/* =========================
   Global Reset & Base
========================= */
*,
*::before,
*::after { box-sizing: border-box; }

:root{
  --radius: 12px;
  --gap: 14px;
  --maxw: 980px;

  /* shared accents */
  --accent: #2aa0ff;

  /* AC palette */
  --ac-green: #18d65f;
  --ac-deep1: #0b2b19;
  --ac-deep2: #0e3a22;
  --ac-deep3: #0d522c;
}

/* default (will be overridden by theme classes) */
body{
  --fg: #f5f7fb;
  --bg-1: #0b1223;
  --bg-2: #00070f;
  --panel: rgba(255,255,255,.06);
  --border: #fff;
  --ctl-bg: #10192c;
  --ctl-fg: var(--fg);
  --ctl-border: #fff;

  margin: 0;
  min-height: 100vh;
  color: var(--fg);
  font: 500 16px/1.4 system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
  background: linear-gradient(135deg, var(--bg-1), var(--bg-2));
  transition: background .4s ease, color .2s ease;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 16px;
}

/* Layout containers centered */
#mainTitle, #themeButtons, #searchContainer, #builder, .button-bar, #output{
  width: 100%;
  max-width: var(--maxw);
  margin-left: auto;
  margin-right: auto;
}

/* =========================
   Themes
========================= */
/* LIGHT: diagonal light-blue ➜ white, dark text, black borders */
body.light-theme{
  --fg: #0e0e0e;
  --bg-1: #eaf4ff;
  --bg-2: #ffffff;
  --panel: rgba(0,0,0,.05);
  --border: #000;
  --ctl-bg: #ffffff;
  --ctl-fg: #0e0e0e;
  --ctl-border: #000;
  background: linear-gradient(135deg, var(--bg-1), var(--bg-2));
}
body.light-theme #mainTitle{
  /* per your earlier request: light mode title is white for contrast */
  color: #ffffff;
  text-shadow: 0 1px 2px rgba(0,0,0,.35);
}

/* DARK: diagonal deep navy ➜ near-black, white borders */
body.dark-theme{
  --fg: #f5f7fb;
  --bg-1: #071326;
  --bg-2: #01050b;
  --panel: rgba(255,255,255,.07);
  --border: #ffffff;
  --ctl-bg: #0e1628;
  --ctl-fg: var(--fg);
  --ctl-border: #ffffff;
  background: linear-gradient(135deg, var(--bg-1), var(--bg-2));
}

/* ANIMAL COMPANY: animated green gradient, bright green borders */
body.ac-theme{
  --fg: #eafff0;
  --panel: rgba(10,60,36,.42);
  --border: var(--ac-green);
  --ctl-bg: var(--ac-deep2);
  --ctl-fg: #eafff0;
  --ctl-border: var(--ac-green);

  background:
    radial-gradient(1100px 780px at 20% -20%, rgba(24,214,95,0.32), transparent 60%),
    radial-gradient(900px 620px at 120% 120%, rgba(24,214,95,0.22), transparent 60%),
    linear-gradient(135deg, var(--ac-deep1), var(--ac-deep2), var(--ac-deep3), var(--ac-deep2));
  background-size: 140% 140%;
  animation: acGradient 37s linear infinite;
}
@keyframes acGradient{
  0%   { background-position: 0% 0%, 100% 100%, 0% 0%; }
  50%  { background-position: 100% 0%, 0% 100%, 100% 100%; }
  100% { background-position: 0% 0%, 100% 100%, 0% 0%; }
}

/* =========================
   Headings & Bars
========================= */
#mainTitle{
  margin: 6px 0 16px;
  text-align: center;
  font-weight: 800;
  letter-spacing: .3px;
  font-size: clamp(1.25rem, 2.8vw, 2rem);
}

#themeButtons, #searchContainer, .button-bar{
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: center;
  gap: var(--gap);
  margin-bottom: 16px;
}

/* =========================
   Buttons & Inputs (Unified)
========================= */
button, select{
  background: var(--ctl-bg);
  color: var(--ctl-fg);
  border: 2px solid var(--ctl-border);
  border-radius: 12px;
  padding: 10px 14px;
  font-weight: 800;
  font-size: .95rem;
  cursor: pointer;
  line-height: 1;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: .45rem;
  transition: filter .15s ease, box-shadow .2s ease, background .2s ease, color .2s ease, border-color .2s ease;
}
button:hover, select:hover{ filter: brightness(1.07); }
button:active{ filter: brightness(.96); }
button:focus-visible, select:focus-visible, input:focus-visible{
  outline: none;
  box-shadow: 0 0 0 4px rgba(42,160,255,.35);
}

/* preset select text centered */
#presetDropdown{ text-align: center; text-align-last: center; }

#searchContainer input#itemSearch{
  min-width: 260px;
  max-width: 420px;
  width: 100%;
  padding: 10px 12px;
  border-radius: 12px;
  background: var(--ctl-bg);
  color: var(--ctl-fg);
  border: 2px solid var(--ctl-border);
}
#searchContainer input#itemSearch::placeholder{ color: rgba(127,127,127,.85); }

/* =========================
   Builder / Slots
========================= */
#builder{
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--gap);
}

[data-slot]{
  border: 2px solid var(--border);
  border-radius: 12px;
  padding: 14px;
  background: var(--panel);
  backdrop-filter: blur(2px);
}

[data-slot] h2{
  margin: 0 0 10px;
  font-size: 1.05rem;
  text-transform: capitalize;
  letter-spacing: .2px;
}

.slot.selected{
  box-shadow: 0 0 0 3px rgba(0,0,0,.08) inset, 0 0 0 3px var(--border);
}
body.ac-theme .slot.selected{
  box-shadow: 0 0 0 3px rgba(24,214,95,.18) inset, 0 0 0 3px var(--ac-green);
}

/* item block */
.item-block{
  border: 2px solid var(--border);
  border-radius: 10px;
  background: var(--panel);
  padding: 12px;
  margin-bottom: 10px;
}

/* =========================
   Color / Slider Group (new look)
========================= */
.color-panel{
  display: grid;
  grid-template-columns: 1fr;
  gap: 10px;
}
.color-row{
  display: grid;
  grid-template-columns: 120px 1fr auto;
  align-items: center;
  gap: 10px;
}
.color-row label{
  font-weight: 700;
  font-size: .92rem;
}
.color-row input[type="range"]{
  width: 100%;
}
.color-value{
  min-width: 56px;
  text-align: center;
  font-weight: 800;
  border: 2px solid var(--ctl-border);
  color: var(--ctl-fg);
  background: var(--ctl-bg);
  padding: 6px 8px;
  border-radius: 10px;
}

/* legacy slider columns (still supported) */
.input-row{ display: flex; flex-wrap: wrap; gap: 10px; }
.input-column{
  display: flex; flex-direction: column;
  background: var(--ctl-bg);
  color: var(--ctl-fg);
  padding: 6px; border-radius: 8px;
  border: 2px solid var(--ctl-border);
}
.input-column label{ font-size: .9rem; margin-bottom: 4px; }
.input-column input[type="range"]{ width: 180px; }

/* =========================
   Output JSON
========================= */
#output{
  margin-top: 12px;
  padding: 14px;
  border-radius: 12px;
  border: 2px solid var(--border);
  background: var(--panel);
  white-space: pre-wrap;
  word-wrap: break-word;
  overflow-x: auto;
  font-size: .92rem;
}

/* =========================
   Buttons Clusters
========================= */
.button-bar{ justify-content: center; }
.button-bar .button{ margin: 2px; }

/* =========================
   Responsive
========================= */
@media (max-width: 720px){
  body{ padding: 12px; }
  #searchContainer{ width: 100%; }
  #searchContainer input#itemSearch{ min-width: 0; }
  .color-row{ grid-template-columns: 100px 1fr auto; }
}